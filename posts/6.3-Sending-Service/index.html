<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>6.3. Sending Service</title>
    <meta name="description" content="Ideas for portable, secure, private messaging">

    <link rel="stylesheet" href="/css/index.css">
    <link rel="stylesheet" href="/css/prism-base16-monokai.dark.css">
    <link rel="stylesheet" href="/css/prism-diff.css">
    <link rel="stylesheet" href="https://unpkg.com/katex@latest/dist/katex.min.css">
    <link rel="alternate" href="/feed/feed.xml" type="application/atom+xml" title="Modern Interoperable Messaging">
    <link rel="alternate" href="/feed/feed.json" type="application/json" title="Modern Interoperable Messaging">
  </head>
  <body>
    <header>
      <h1 class="home"><a href="/">Modern Interoperable Messaging</a></h1>
      <ul class="nav">
        <li class="nav-item"><a href="/">Home</a></li>
        <li class="nav-item"><a href="/posts/">Archive</a></li>
        <li class="nav-item"><a href="/about/">About Me</a></li>
      </ul>
    </header>

    <main class="tmpl-post">

      <div class="wrapper">
  <div class="grid">
    <div class="grid-main">

      <h1>6.3. Sending Service</h1>

      <p>The main function of a sending service is as an agent of the user to receive encrypted messages from a user’s device and route them to a receiving service.</p>
<p>To keep the system performant, the Proton protocol should have an established maximum size. Conformant with other secure messaging protocols, larger attachments can be transmitted out of band of the messaging protocol by uploading an encrypted blob to cloud storage and transmitting the symmetric key through the messaging protocol. The sending service is the most natural place to host this blob storage, as an agent of the sender. Sending services can also serve to abstract away a user’s many devices by providing a way to deduplicate responses from many devices (e.g. an ack message from all of a user’s devices).</p>
<h3 id="basic-implementation" tabindex="-1">Basic Implementation <a class="direct-link" href="#basic-implementation" aria-hidden="true">#</a></h3>
<p>A basic service provider disassociates outgoing messages from user accounts by use of <a href="https://blog.cloudflare.com/eliminating-captchas-on-iphones-and-macs-using-new-standard/">private access tokens</a> to rate limit an unauthenticated endpoint.</p>
<p>The service provider exposes 2 API’s:</p>
<ul>
<li>A message send API, where users provide a private access token, a receiving service (by domain), a recipient address, and an encrypted cipher text.</li>
<li>A blob upload API, which accepts (a different class of) private access token a file upload, and returns a url for the file.</li>
</ul>

      <hr>
      <ul><li>Next: <a href="/posts/7-Related-Work/">7. Related Work</a></li><li>Previous: <a href="/posts/6.2-Receiving-Service/">6.2. Receiving Service</a></li>
      </ul>

    </div>
    <aside class="grid-sidebar">

      
      <h3>Latest 3 Posts</h1>

      
      
      <ul reversed class="postlist"}">

  <li class="postlist-item">
    <a href="/posts/7-Related-Work/" class="postlist-link">7. Related Work</a>
    
  </li>

  <li class="postlist-item">
    <a href="/posts/6.3-Sending-Service/" class="postlist-link">6.3. Sending Service</a>
    
  </li>

  <li class="postlist-item">
    <a href="/posts/6.2-Receiving-Service/" class="postlist-link">6.2. Receiving Service</a>
    
  </li>

</ul>


      <p>More posts can be found in <a href="/posts/">the archive</a>.</p>
    </aside>
  </div>
</div>



    </main>

    <footer></footer>

    <!-- Current page: /posts/6.3-Sending-Service/ -->
  </body>
</html>
